{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
	{{ super() }}
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
	integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
	crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
	integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
	crossorigin=""></script>
	<style type="text/css">
		#map {
			height: 600px;
		}
	</style>
{% endblock %}
{% block content %}
    	<div class="columns">
    		<div class="column col-12">
    			<h1>A title</h1>
    		</div>
    	</div>
    	<div class="columns">
    		<div class="column col-9">
    			<img src="{{ relpath }}" class="img-responsive" />
    		</div>
    		<div class="column col-3">
	        	<div id="map"></div>
	        	<div id="metadata" style="margin-top: 20px">
        			<p><em>Taken on</em> {{ image.date_taken }}</p>
	        		<p><em>Description</em> {{ image.caption }}</p>
	        	</div>
	        </div>
	    </div>
    	<div class="columns">
    		<div class="column col-xl-12">
			    <div class="footer">
			    	&copy; Copyright 2017-2019 <a href="https://ma.rtijn.org/">Martijn van Exel</a>
			    </div>
		    </div>
    	</div>
{% endblock %}
{% block scripts %}
	<script type="text/javascript">
		var mymap = L.map('map').setView([{{ image.lat }}, {{ image.lon }}], 17);
		L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
			maxZoom: 17,
			attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
		}).addTo(mymap);
		// markers
		var cameraIcon = L.icon({
		    iconUrl: 'assets/camera-24.png',
		    iconSize: [24, 24],
		});

		L.marker([{{ image.lat }}, {{ image.lon }}], {icon: cameraIcon}).addTo(mymap);
	</script>
{% endblock %}